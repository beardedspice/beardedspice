{"name":"Beardedspice","tagline":"Mac Media Keys for the Masses","body":"# About\r\n\r\n[![BeardedSpice](http://imgur.com/zoeg3NS.png)](http://imgur.com/zoeg3NS.png)\r\n\r\nBeardedSpice is a menubar application for Mac OSX that allows you to control web based media players with the media keys found on Mac keyboards. It is an extensible application that works with Chrome and Safari, and can control any tab with an applicable media player. BeardedSpice currently supports:\r\n\r\n- YouTube\r\n- HypeMachine\r\n- Spotify (Web)\r\n- Pandora\r\n- BandCamp\r\n- GrooveShark\r\n- SoundCloud\r\n- Last.fm\r\n- Google Music\r\n- Rdio\r\n\r\nIf you want another supported app supported, simply open an issue with the tag 'app support'. Or, if you are feeling extra feisty, implement the handler yourself!\r\n\r\nBeardedSpice is built with [SPMediaKeyTap](https://github.com/nevyn/SPMediaKeyTap) and works well with other applications listening to media key events. **NOTE**: We've asked nevyn to update the SPMediaKeyTap whitelist. While BeardedSpice is not on the whitelist, media key events may not propogate to BeardedSpice. You'll need to keep your Spotify application closed in the meantime.\r\n\r\n## Download\r\n\r\nDownload the [latest release](https://github.com/beardedspice/beardedspice/raw/releases/BeardedSpice-0.1.0.dmg), or find all released binaries [here](https://github.com/beardedspice/beardedspice/tree/releases).\r\n\r\n## Features\r\n\r\n### Setting an active tab\r\nTell BeardedSpice to control a tab by either clicking the menubar icon and selecting a tab from the dropdown, or by pressing the 'Set Active Tab' shortcut when a browser window is active. The shortcut defaults to âŒ˜+F8, and is configurable in the preferences panel. Switching active tabs will pause the currently active tab (if there is one).\r\n\r\nIn Chrome you must reset your active tab if you move your tab to a new window. With Safari, reset your active tab when changing the order of your active tab or moving it to a new window.\r\n\r\n### Disabling certain handlers\r\nFrom the preferences menu, uncheck any types of webpages that you don't want BeardedSpice to have control over. By default, all implemented handlers are enabled.\r\n\r\n## Writing a Handler\r\n\r\nMedia controllers are written as [strategies](https://github.com/beardedspice/beardedspice/blob/master/BeardedSpice/MediaStrategy.h). Each strategy defines a collection of Javascript functions to be excecuted on particular webpages.\r\n\r\n```Objective-C\r\n@interface MediaStrategy : NSObject\r\n\r\n-(BOOL) accepts:(id <Tab>) tab;\r\n-(NSString *) displayName;\r\n\r\n-(NSString *) toggle;\r\n-(NSString *) previous;\r\n-(NSString *) next;\r\n-(NSString *) pause;\r\n\r\n@end\r\n```\r\n\r\nThe `accepts` method takes a `Tab` object and returns `YES` if the strategy can control the given tab. `displayName` must return a unique string describing the controller and will be used as the name shown in the Preferences panel. All other functions return a Javascript function for the particular action. `pause` is a special case and is used when changing the active tab.\r\n\r\nA sample strategy for GrooveShark:\r\n\r\n```Objective-C\r\n@implementation GrooveSharkStrategy\r\n\r\n-(id) init\r\n{\r\n    self = [super init];\r\n    if (self) {\r\n        predicate = [NSPredicate predicateWithFormat:@\"SELF LIKE[c] '*grooveshark.com*'\"];\r\n    }\r\n    return self;\r\n}\r\n\r\n-(BOOL) accepts:(id <Tab>)tab\r\n{\r\n    return [predicate evaluateWithObject:[tab URL]];\r\n}\r\n\r\n-(NSString *) toggle\r\n{\r\n    return @\"(function(){return window.Grooveshark.toggle()})()\";\r\n}\r\n\r\n-(NSString *) previous\r\n{\r\n    return @\"(function(){return window.Grooveshark.previous()})()\";\r\n}\r\n\r\n-(NSString *) next\r\n{\r\n    return @\"(function(){return window.Grooveshark.next()})()\";\r\n}\r\n\r\n-(NSString *) pause\r\n{\r\n    return @\"(function(){return window.Grooveshark.pause()})()\";\r\n}\r\n\r\n-(NSString *) displayName\r\n{\r\n    return @\"Grooveshark\";\r\n}\r\n\r\n@end\r\n```\r\n\r\nUpdate the [`MediaStrategyRegistry`](https://github.com/beardedspice/beardedspice/blob/master/BeardedSpice/MediaStrategyRegistry.m) to include an instance of your new strategy:\r\n\r\n```Objective-C\r\n+(NSArray *) getDefaultMediaStrategies\r\n{\r\n        DefaultMediaStrategies = [NSArray arrayWithObjects:\r\n                                  // ...\r\n                                  [[GoogleMusicStrategy alloc] init],\r\n                                  [[RdioStrategy alloc] init],\r\n                                  // add your new strategy!\r\n                                  [[GrooveSharkStrategy alloc] init],\r\n                                  nil];\r\n}\r\n```\r\n\r\nFinally, update the [default preferences plist](https://github.com/beardedspice/beardedspice/blob/master/BeardedSpice/BeardedSpiceUserDefaults.plist) to include your strategy.\r\n\r\n","google":"UA-47149001-1","note":"Don't delete this file! It's used internally to help with page regeneration."}